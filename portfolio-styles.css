document.addEventListener('DOMContentLoaded', () => {
    
    // إعادة التمرير للأعلى عند التحميل
    setTimeout(() => {
        window.scrollTo(0, 0);
        if(window.location.hash) {
            history.replaceState('', document.title, window.location.pathname + window.location.search);
        }
    }, 50);
    
    // ==============================================
    // Smooth Scrolling 
    // ==============================================
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if(target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: (this.getAttribute('href') === '#hero-content' ? 'start' : 'center')
                });
            }
        });
    });

    // ==============================================
    // Fade-in Animation
    // ==============================================
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if(entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, observerOptions);
    
    document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
    });

    // ==============================================
    // Drill-Down Menu Toggle
    // ==============================================
    const menuToggle = document.querySelector('.menu-toggle');
    const sideMenu = document.getElementById('drill-down-menu');
    
    menuToggle.addEventListener('click', () => {
        sideMenu.classList.toggle('open');
    });
    
    sideMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            setTimeout(() => {
                sideMenu.classList.remove('open');
            }, 300);
        });
    });

    // ==============================================
    // Read More / Read Less Functionality
    // ==============================================
    document.querySelectorAll('.read-more-content').forEach(content => {
        content.style.display = 'none';
        content.style.transition = 'opacity 0.5s ease';
        content.style.opacity = '0';
    });
    
    document.querySelectorAll('.toggle-btn').forEach(button => {
        button.addEventListener('click', function() {
            const targetId = this.getAttribute('data-target');
            const content = document.getElementById(targetId);

            if (content.style.display === 'none') {
                content.style.display = 'inline';
                setTimeout(() => {
                    content.style.opacity = '1';
                }, 10);
                this.textContent = 'Read Less';
            } else {
                content.style.opacity = '0';
                setTimeout(() => {
                    content.style.display = 'none';
                }, 500);
                this.textContent = 'Read More';
            }
        });
    });

    // ==============================================
    // Quotes Display Logic 
    // ==============================================
    const dataQuotes = [
        "Data is the new oil.",
        "Without big data analytics, companies are blind and deaf, wandering out onto the web like deer on a freeway.",
        "The goal is to turn data into information, and information into insight.",
        "We are drowning in information and starving for wisdom.",
        "The world is now driven by data, not by oil.",
        "Where there is data, there is value.",
        "Hiding within those mounds of data is knowledge that could change the world.",
        "Torture the data, and it will confess to anything.",
        "You can have all the data in the world, but if you don't use it, it means nothing.",
        "The data stream is huge, and its potential is even bigger."
    ];
    
    let currentQuoteIndex = 0;
    const quoteTextElement = document.getElementById('data-quote-display');
    
    if (quoteTextElement) {
        quoteTextElement.textContent = dataQuotes[currentQuoteIndex];
        quoteTextElement.classList.add('active');
        
        setInterval(() => {
            quoteTextElement.classList.remove('active');
            setTimeout(() => {
                currentQuoteIndex = (currentQuoteIndex + 1) % dataQuotes.length;
                quoteTextElement.textContent = dataQuotes[currentQuoteIndex];
                quoteTextElement.classList.add('active');
            }, 1000);
        }, 5000);
    }
    
    // ==============================================
    // 1. Dot Grid Background Effect
    // ==============================================
    function setupDotGrid() {
        const contain
